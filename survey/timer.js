
function sendDataToServer(survey) {
    //send Ajax request to your web server.
    $("#surveyContainer").addClass('hidden');
    $("#feedback").addClass('hidden');
    $('#slide-bottom-popup').modal('show');
    $.ajax({
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(survey.data),
            dataType: 'json',
            url: '/ajax',
            success: function (ret) {
            // var myModal = document.getElementById('myModal').innerHTML;
            // myModal.modal('hide');

            }
          });
      $('#myModal').modal('hide');
}


Survey.Survey.cssType = "bootstrap";

// var surveyJSON = {locale:"en",  showProgressBar: "top", goNextPageAutomatic: true, pages:[{name:"page1",navigationButtonsVisibility:"hide",questions:[{type:"dropdown",choices:[{value:"1",text:"Guests"},{value:"2",text:"Volunteers"},{value:"3",text:"Family"},{value:"4",text:"mantelzorgers"},{value:"5",text:"Others"}],isRequired:true,name:"Your relationship with de Opstap",width:"300"}]},{name:"page2",questions:[{type:"comment",name:"Let us know the things you liked about De Opstap"}]},{name:"page3",navigationButtonsVisibility:"hide",questions:[{type:"rating",isRequired:true,name:"Rate de Opstap",rateValues:["3","4","5","6","7","8"]}]}]}
var surveyJSON = {clearInvisibleValues:true,pageNextText:"Next Question",pagePrevText:"Previous Question",pages:[{name:"page1",questions:[{type:"radiogroup",choices:[{value:"1",text:"gasten"},{value:"2",text:"vrijwilligers"},{value:"3",text:"mantelzorgers"},{value:"4",text:"familie"},{value:"5",text:"gezondheidszorg, ongerelateerd aan de Opstap"},{value:"6",text:"anders"}],isRequired:true,name:"q1",title:"Bij welke groep hoort u?"},{type:"text",isRequired:true,name:"others",title:"Others",visible:false,visibleIf:"{q1}='6'"}]},{name:"page2",questions:[{type:"dropdown",name:"question9",choices:[{value:"1",text:"first item"},{value:"2",text:"second item"},{value:"3",text:"third item"}]},{type:"radiogroup",choices:[{value:"1",text:"via de website"},{value:"2",text:"via vrienden, kennissen"},{value:"3",text:"via gasten van de Opstap"},{value:"4",text:"anders"}],isRequired:true,name:"qguests",title:"hoe heeft u gehoord over de Opstap?"},{type:"text",isRequired:true,name:"question3",title:"anders, namelijk...",visible:false,visibleIf:"{qguests} = '4'"},{type:"comment",name:"expectations",title:"Wat verwachtte u van de Opstap?",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"volledig"},{value:"2",text:"goed"},{value:"3",text:"matig"},{value:"4",text:"niet"}],isRequired:true,name:"expectation2",title:"In hoeverre voldeed uw ervaring met de Opstap aan uw verwachting? "},{type:"comment",name:"experience2",title:"Hoe was uw ervaring met de Opstap?",isRequired:true},{type:"comment",name:"favourite",title:"Wat zijn uw favoriete aspecten van de Opstap?",isRequired:true},{type:"comment",name:"improvement",title:"Wat kan de de Opstap verbeteren volgens u?",isRequired:true},{type:"text",isRequired:true,name:"question8",placeHolder:"Denk aan vrijwilligers en organisatie",title:"Wat is uw mening over de mensen die betrokken zijn bij de Opstap? "},{type:"comment",name:"impact",title:"Wat is de impact van de Opstap op de samenleving volgens u?"}],visible:false,visibleIf:" {q1} = '1' "},{name:"page3",questions:[{type:"radiogroup",choices:[{value:"1",text:"via de website"},{value:"2",text:"via vrienden, kennissen"},{value:"3",text:"via gasten van de Opstap"},{value:"4",text:"anders"}],isRequired:true,name:"qvolunteers",title:"hoe heeft u gehoord over de Opstap?"},{type:"text",isRequired:true,name:"question4",title:"anders, namelijk...",visible:false,visibleIf:"{qvolunteers} = '4'"},{type:"comment",name:"volunteer",title:"Waarom wilde je vrijwilliger zijn? ",isRequired:true},{type:"comment",name:"expectations",title:"Wat waren je verwachtingen over de Opstap voordat je hier werkte?",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"volledig"},{value:"2",text:"goed"},{value:"3",text:"matig"},{value:"4",text:"niet"}],name:"compareexpectations",title:"In hoeverre voldeed je ervaring met de Opstap aan je verwachting? "},{type:"comment",name:"benefits",title:"Wat zijn volgens jou de baten van de Opstap waar gasten, verzorgers en voor de samenleving? ",isRequired:true},{type:"text",isRequired:true,name:"question10",placeHolder:"Denk aan vrijwilligers en organisatie",title:"Wat is uw mening over de mensen die betrokken zijn bij de Opstap? "},{type:"comment",name:"impact",title:"Wat is de impact van de Opstap op de samenleving volgens u?"},{type:"comment",name:"improvement",title:"Wat kan de Opstap verbeteren? ",isRequired:true}],visible:false,visibleIf:"\n{q1}='2'"},{name:"page4",questions:[{type:"radiogroup",choices:[{value:"1",text:"via de website"},{value:"2",text:"via vrienden, kennissen"},{value:"3",text:"via gasten van de Opstap"},{value:"4",text:"anders"}],isRequired:true,name:"qcaregivers",title:"hoe heeft u gehoord over de Opstap?"},{type:"text",isRequired:true,name:"question7",title:"anders, namelijk...",visible:false,visibleIf:"{qcaregivers} = '4'"},{type:"radiogroup",choices:[{value:"1",text:"yes"},{value:"2",text:"no"}],isRequired:true,name:"visit",title:"Heeft u de Opstap bezocht?"},{type:"comment",name:"impression",visible:false,visibleIf:"{visit} = '1'",title:"Wat was uw eerste indruk van de Opstap?",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"volledig"},{value:"2",text:"goed"},{value:"3",text:"matig"},{value:"4",text:"niet"}],name:"comparison",title:"In hoeverre voldeed je ervaring met de Opstap aan je verwachting? ",visible:false,visibleIf:"{visit} = '1'"},{type:"comment",name:"caregiversfavourite",visible:false,visibleIf:"{visit} = '1'",title:"Wat zijn favoriete aspecten van de Opstap?"},{type:"comment",name:"improvements ",visible:false,visibleIf:"{visit} = '1'",title:"Wat kan verbeterd worden volgens u aan de Opstap? "},{type:"radiogroup",choices:[{value:"1",text:"ja"},{value:"2",text:"nee"}],isRequired:true,name:"firsttime",title:"Is dit de eerste keer dat de verzorgde in een zorginstantie verblijft?"},{type:"comment",name:"previous",visible:false,visibleIf:"{firsttime} = '2'",title:"In hoeverre komt/komen deze eerdere ervaring(en) overeen met de ervaring in de Opstap? ",placeHolder:"overeenkomsten, verschillen"},{type:"comment",name:"motive",title:"Wat is de voornaamste reden dat de persoon voor wie u zorgt bij de Opstap verblijft/verbleef? ",isRequired:true},{type:"comment",name:"question6",title:"Wat is de impact van de Opstap op de samenleving volgens u?"}],visible:false,visibleIf:"{q1}='3'"},{name:"page5",questions:[{type:"radiogroup",choices:[{value:"1",text:"via de website"},{value:"2",text:"via vrienden, kennissen"},{value:"3",text:"via gasten van de Opstap"},{value:"4",text:"anders"}],isRequired:true,name:"qfamily",title:"hoe heeft u gehoord over de Opstap?"},{type:"text",isRequired:true,name:"other",title:"anders, namelijk...",visible:false,visibleIf:"{qfamily} = '4'"},{type:"comment",name:"motivation",title:"Wat motiveerde uw familielid om in de Opstap te verblijven?"},{type:"comment",name:"question11",title:"Wat verwachtte u van de Opstap?",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"ja"},{value:"2",text:"nee"}],isRequired:true,name:"familyvisit",title:"Heeft u uw familielid bezocht tijdens zijn of haar verblijf in de Opstap?"},{type:"comment",name:"question5",visible:false,visibleIf:"{familyvisit} = '1'",title:"Wat was uw eerste indruk van de Opstap?",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"volledig"},{value:"2",text:"goed"},{value:"3",text:"matig"},{value:"4",text:"niet"}],name:"question12",title:"In hoeverre voldeed je ervaring met de Opstap aan je verwachting? ",visible:false,visibleIf:"{visit} = '1'"},{type:"comment",name:"familyfavourite",visible:false,visibleIf:"{familyvisit} = '1'",title:"wat waren favoriete aspecten van de Opstap?"},{type:"comment",name:"familyimprovements",visible:false,visibleIf:"{familyvisit} = '1'",title:"Wat kan de Opstap verbeteren?",isRequired:true}],visible:false,visibleIf:"{q1}='4'"},{name:"page6",questions:[{type:"text",name:"profession",title:"Wat is uw beroep?"},{type:"radiogroup",choices:[{value:"1",text:"via de website"},{value:"2",text:"via vrienden, kennissen"},{value:"3",text:"via gasten van de Opstap"},{value:"4",text:"anders"}],isRequired:true,name:"qhealthcare",title:"hoe heeft u gehoord over de Opstap?"},{type:"text",isRequired:true,name:"question21",title:"anders, namelijk...",visible:false,visibleIf:"{qhealthcare} = '4'"},{type:"radiogroup",choices:[{value:"1",text:"ja"},{value:"2",text:"nee"}],isRequired:true,name:"healthcare",title:"Heeft u de Opstap bezocht?"},{type:"comment",name:"question13",visible:false,visibleIf:"{healthcare} = '1'",title:"Wat was uw eerste indruk van de Opstap?",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"volledig"},{value:"2",text:"goed"},{value:"3",text:"matig"},{value:"4",text:"niet"}],name:"question14",title:"In hoeverre voldeed je ervaring met de Opstap aan je verwachting? ",visible:false,visibleIf:"{healthcare} = '1'"},{type:"comment",name:"question15",visible:false,visibleIf:"{healthcare} = '1'",title:"wat waren favoriete aspecten van de Opstap?"},{type:"comment",name:"question16",visible:false,visibleIf:"{healthcare} = '1'",title:"Wat kan de Opstap verbeteren?",isRequired:true},{type:"text",isRequired:true,name:"question17",placeHolder:"Denk aan vrijwilligers en organisatie",title:"Wat is uw mening over de mensen die betrokken zijn bij de Opstap? "},{type:"comment",name:"question19",title:"Wat vindt u van het concept van de Opstap vergeleken met traditionele gezondheidszorg instanties? "},{type:"comment",name:"question18",title:"Wat is de impact van de Opstap op de samenleving volgens u?"}],visible:false,visibleIf:"{q1}='5'"},{name:"page7",questions:[{type:"radiogroup",choices:[{value:"1",text:"Je"},{value:"2",text:"Nee"}],isRequired:true,name:"otherrelation",title:"Do you have a direct relationship with the persons involved in ‘De Opstap’?"},{type:"radiogroup",choices:[{value:"1",text:"via de website"},{value:"2",text:"via vrienden, kennissen"},{value:"3",text:"via gasten van de Opstap"},{value:"4",text:"anders"}],isRequired:true,name:"qothers",title:"hoe heeft u gehoord over de Opstap?",visible:false,visibleIf:"{otherrelation}='1'"},{type:"text",isRequired:true,name:"question22",title:"anders, namelijk...",visible:false,visibleIf:"{qothers} = '4'"},{type:"comment",name:"othersexpectations",title:"What were your expectations about ‘De Opstap’? ",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"ja"},{value:"2",text:"nee"}],isRequired:true,name:"othersvisit",title:"Heeft u de Opstap bezocht?"},{type:"comment",name:"question20",visible:false,visibleIf:"{othersvisit} = '1'",title:"Wat was uw eerste indruk van de Opstap?",isRequired:true},{type:"radiogroup",choices:[{value:"1",text:"volledig"},{value:"2",text:"goed"},{value:"3",text:"matig"},{value:"4",text:"niet"}],name:"question23",title:"In hoeverre voldeed je ervaring met de Opstap aan je verwachting? ",visible:false,visibleIf:"{othersvisit} = '1'"},{type:"comment",name:"question24",visible:false,visibleIf:"{othersvisit} = '1'",title:"wat waren favoriete aspecten van de Opstap?"},{type:"comment",name:"question25",visible:false,visibleIf:"{othersvisit} = '1'",title:"Wat kan de Opstap verbeteren?",isRequired:true},{type:"comment",name:"noothers1",visible:false,visibleIf:"{othersvisit} = '2'",title:"Are you thinking about being involved with ‘De Opstap’?",isRequired:true},{type:"comment",name:"personally",visible:false,visibleIf:"{othersvisit} = '2'",title:"How did ‘De Opstap’ influence you personally?",isRequired:true},{type:"text",isRequired:true,name:"question26",placeHolder:"Denk aan vrijwilligers en organisatie",title:"Wat is uw mening over de mensen die betrokken zijn bij de Opstap? "},{type:"comment",name:"question27",title:"Wat is de impact van de Opstap op de samenleving volgens u?"}],visible:false,visibleIf:"{q1} = '6'"}],showCompletedPage:false,showProgressBar:"top"}


var survey = new Survey.Model(surveyJSON);
$("#surveyContainer").Survey({
    model: survey,
    onComplete: sendDataToServer
});

function opensurvey() {
        $("#surveyContainer").removeClass('hidden');
        $("#feedback").removeClass('hidden');
}

  $(document).ready(function() {
    setTimeout(function() {
      $('#slide-bottom-popup').modal('show');
      

    }, 1000); // milliseconds
});